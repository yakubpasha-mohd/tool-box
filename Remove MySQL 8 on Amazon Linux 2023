Step-by-Step: Remove MySQL 8 on Amazon Linux 2023
ğŸ”¹ Step 1 â€” Stop MySQL service
sudo systemctl stop mysqld
sudo systemctl disable mysqld


Check status:

sudo systemctl status mysqld


It should show inactive (dead).

ğŸ”¹ Step 2 â€” Remove MySQL packages

Run this to remove all related packages installed from mysql80-community:

sudo dnf remove -y mysql-community-server mysql-community-client mysql-community-libs mysql-community-common mysql-community-client-plugins mysql-community-icu-data-files


ğŸ’¡ Tip: To see all MySQL packages installed before removing:

dnf list installed | grep -i mysql

ğŸ”¹ Step 3 â€” Remove MySQL repository files

Remove the MySQL Community repo definitions installed from the .rpm:

sudo dnf remove -y mysql80-community-release


Then clean up the repo cache:

sudo dnf clean all
sudo rm -f /etc/yum.repos.d/mysql-community.repo /etc/yum.repos.d/mysql-community-source.repo

ğŸ”¹ Step 4 â€” Remove MySQL data and configuration directories

By default, MySQL stores data under /var/lib/mysql and config files under /etc/my.cnf*.

Run:

sudo rm -rf /var/lib/mysql
sudo rm -rf /etc/my.cnf /etc/my.cnf.d


If you had a custom config file (for example /etc/mysql/mysql.conf.d or /etc/mysql/conf.d):

sudo rm -rf /etc/mysql*

ğŸ”¹ Step 5 â€” Remove the MySQL user and group (optional, for clean wipe)

Check if they exist first:

getent passwd mysql
getent group mysql


Then remove if desired:

sudo userdel -r mysql 2>/dev/null || true
sudo groupdel mysql 2>/dev/null || true

ğŸ”¹ Step 6 â€” Clean orphaned dependencies and metadata
sudo dnf autoremove -y
sudo dnf clean all

ğŸ”¹ Step 7 â€” Verify removal

Check that:

No mysqld process is running

No mysql binaries remain in /usr/bin

No service named mysqld exists

Run:

ps aux | grep mysqld
which mysql || echo "mysql binary removed"
sudo systemctl list-unit-files | grep mysql


All should return no matches or â€œnot foundâ€.

ğŸ”¹ (Optional) Step 8 â€” Remove GPG keys

You can optionally remove imported MySQL GPG keys if you no longer plan to use MySQL Community repos:

sudo rpm -e gpg-pubkey-$(rpm -qa | grep -i mysql | cut -d'-' -f3- | head -1) 2>/dev/null || true


Or simply remove all MySQL-related GPG keys manually:

rpm -qa gpg-pubkey | grep -i mysql


then use:

sudo rpm -e <keyname>

âœ… Step 9 â€” (Optional) Verify itâ€™s clean

Run:

sudo dnf list installed | grep -i mysql || echo "âœ… MySQL fully removed"

ğŸ” If you plan to reinstall later

If youâ€™ll reinstall later, ensure that:

sudo dnf -y install https://dev.mysql.com/get/mysql80-community-release-el9-3.noarch.rpm
sudo rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2023


before reinstalling.

ğŸ§¾ Summary of Key Commands
Purpose	Command
Stop & disable service	sudo systemctl stop mysqld && sudo systemctl disable mysqld
Remove packages	sudo dnf remove -y mysql-community-*
Remove repo	sudo dnf remove -y mysql80-community-release
Delete data/config	sudo rm -rf /var/lib/mysql /etc/my.cnf*
Clean system	sudo dnf autoremove -y && sudo dnf clean all
Verify removal	`dnf list installed
